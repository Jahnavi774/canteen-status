<!DOCTYPE html>
<html>

<head>
  <title>Canteen Live Status.com</title>
  <link rel="stylesheet" href="styles1.css" />

  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=Truculenta:wght@300&display=swap" rel="stylesheet" />
</head>

<body>
  <div class="login" id="login_div">
    <h1>Sign In</h1>
    <form>
      <input type="email" class="login-box" id="email" name="email" placeholder="Email" required />
      <input type="password" class="login-box" id="password" name="pass" placeholder="Password" required />
    </form>
    <button class="Button2" id="sin">Sign in</button>
    <a href="reset.html" style="
          text-decoration: none;
          color: #1877f2;
          font-family: inherit;
          font-size: 16px;
          font-weight: 500;
        ">Forgotten Password?</a>
  </div>
  <p id="animi">EAT AGAIN</p>
</body>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
  import {
    getDatabase,
    set,
    ref,
  } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-database.js";
  import {
    getAuth,
    signInWithEmailAndPassword,
  } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-auth.js";
  // Your web app's Firebase configuration.
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyCWxW0gEXVWvVCdZXYERqHTx6eqcJl6l90",
    authDomain: "canteen-status-45757.firebaseapp.com",
    databaseURL: "https://canteen-status-45757-default-rtdb.firebaseio.com",
    projectId: "canteen-status-45757",
    storageBucket: "canteen-status-45757.appspot.com",
    messagingSenderId: "485236838100",
    appId: "1:485236838100:web:0f1772e4fec5a837f8b541"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);
  // firebase.analytics();
  const auth = getAuth();

  const signIn = async () => {
    const Email = document.getElementById("email").value;
    const Password = document.getElementById("password").value;
    console.log(Email);
    try {
      await signInWithEmailAndPassword(auth, Email, Password);
      alert("Signed In");
      console.log("Signed In as " + Email.value);
      window.location.href = "first_home.html";
      localStorage.setItem("current", Email.value);
    } catch (error) {
      console.log(`There was an error: ${error}`);
      alert(error.message + " Try again.");
    }
  };

  sin.addEventListener("click", signIn);
</script>

</html>