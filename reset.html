<!DOCTYPE html>
<html>

<head>
    <title> Notes App </title>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <link rel="stylesheet" href="reset.css">

</head>

<body>
    <div id="reset">
        <!-- <img src="lock.png" align="centre" id="lock"> -->
        <h3>Find Your Account</h3>
        <p style="color: #a1a3a6;">Please enter your email address to search for your account.</p>
        <form>
            <input type="email" placeholder="Email Address" id="passreset" required>
        </form>
        <button id="resetbtn" onclick="reset()">Reset Password</button>
        <br />
        <a href="noteslogin.html" id="back" style="text-decoration: none; color: rgb(20, 20, 19); "> Back To Login</a>
    </div>
</body>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js"
    import { getDatabase, set, ref } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-database.js"
    import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-auth.js"
    // Your web app's Firebase configuration.
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    var firebaseConfig = {
        apiKey: "AIzaSyCWxW0gEXVWvVCdZXYERqHTx6eqcJl6l90",
        authDomain: "canteen-status-45757.firebaseapp.com",
        databaseURL: "https://canteen-status-45757-default-rtdb.firebaseio.com",
        projectId: "canteen-status-45757",
        storageBucket: "canteen-status-45757.appspot.com",
        messagingSenderId: "485236838100",
        appId: "1:485236838100:web:0f1772e4fec5a837f8b541"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    // firebase.analytics(); 
    const auth = getAuth();

    
    function SignOut() {
        auth.signOut().then(() => {
            alert("Thankyou...");
            window.location.href = "noteslogin.html";
            localStorage.removeItem("current");
        })
    }
    function reset() {
        var emailAddress = document.getElementById("passreset");
        if (emailAddress != "") {
            const resetreq = sendPasswordResetEmail(auth,emailAddress.value);
            resetreq.then(function () {
                alert("We sent an email with a link to get back into your account.");
            })
            resetreq.catch(e => alert(e.message));
        }
    }
    resetbtn.addEventListener('click',reset);
</script>

</html>